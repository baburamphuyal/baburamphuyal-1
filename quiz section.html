<!-- quiz section.html -->
<!DOCTYPE html>
<html lang="ne">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Section</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    .question-numbers {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
      gap: 10px;
    }
    .question-numbers button {
      padding: 10px 15px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      border: 2px solid #007bff;
      background-color: #f0f8ff;
      color: #007bff;
      border-radius: 5px;
      transition: all 0.3s;
    }
    .question-numbers button:hover {
      background-color: #007bff;
      color: white;
    }
    .question-numbers button.selected {
      background-color: #dc3545; /* Red color for selected question */
      color: white;
    }
    .question-section {
      display: none;
      margin-top: 20px;
    }
    .question-section.active {
      display: block;
    }
    .choice {
      display: block;
      margin: 10px 0;
      padding: 10px;
      cursor: pointer;
      border: 1px solid #ccc;
      border-radius: 5px;
      transition: all 0.3s;
    }
    .choice.selected {
      background-color: orange;
      color: white;
    }
    .choice.correct {
      background-color: #28a745; /* Deep Green */
      color: white;
      border-color: #1e7e34;
    }
    .choice.incorrect {
      background-color: #dc3545; /* Deep Red */
      color: white;
      border-color: #721c24;
    }
    .check-answer {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 14px;
      cursor: pointer;
      border: none;
      background-color: #007bff;
      color: white;
      border-radius: 5px;
      transition: all 0.3s;
    }
    .check-answer:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <h1>Quiz Section</h1>
  
  <!-- Question Numbers -->
  <div class="question-numbers" id="question-numbers-container">
    <!-- Question numbers will be inserted here -->
  </div>
  
  <!-- Questions -->
  <div id="questions-container">
    <!-- Questions and choices will be inserted here -->
  </div>

  <script>
    // Questions and answers
    const quizData = [
      { question: "नेपालको राजधानी कहाँ हो?", choices: ["काठमाडौं", "पोखरा", "बिराटनगर", "जनकपुर"], answer: "काठमाडौं" },
      { question: "सगरमाथाको उचाई कति हो?", choices: ["8848m", "8849m", "8850m", "8847m"], answer: "8848m" },
      { question: "गौतम बुद्ध कहाँ जन्मेका थिए?", choices: ["लुम्बिनी", "कपिलवस्तु", "जनकपुर", "पोखरा"], answer: "लुम्बिनी" }
    ];

    // Selectors
    const questionNumbersContainer = document.querySelector("#question-numbers-container");
    const questionsContainer = document.querySelector("#questions-container");

    // Render question numbers
    quizData.forEach((data, index) => {
      const button = document.createElement("button");
      button.textContent = `Q${index + 1}`;
      button.addEventListener("click", () => {
        showQuestion(index);
        selectQuestionNumber(button, index);
      });
      questionNumbersContainer.appendChild(button);
    });

    // Render questions
    quizData.forEach((data, index) => {
      const questionSection = document.createElement("div");
      questionSection.classList.add("question-section");
      questionSection.id = `question-${index}`;

      const questionText = document.createElement("h2");
      questionText.textContent = data.question;
      questionSection.appendChild(questionText);

      let selectedChoice = null;

      data.choices.forEach(choice => {
        const choiceButton = document.createElement("button");
        choiceButton.textContent = choice;
        choiceButton.classList.add("choice");
        choiceButton.addEventListener("click", () => {
          // Remove previous selection
          questionSection.querySelectorAll(".choice").forEach(btn => btn.classList.remove("selected"));
          // Highlight selected choice
          choiceButton.classList.add("selected");
          selectedChoice = choice; // Save selected choice
        });
        questionSection.appendChild(choiceButton);
      });

      // Add "Check Right Answer" button
      const checkAnswerButton = document.createElement("button");
      checkAnswerButton.textContent = "Check Right Answer";
      checkAnswerButton.classList.add("check-answer");
      checkAnswerButton.addEventListener("click", () => {
        questionSection.querySelectorAll(".choice").forEach(btn => {
          btn.disabled = true; // Disable all buttons
          if (btn.textContent === data.answer) {
            btn.classList.add("correct");
          } else if (btn.classList.contains("selected")) {
            btn.classList.add("incorrect");
          }
        });
        // Mark only selected question numbers with red
        markSelectedQuestionsRed();
      });
      questionSection.appendChild(checkAnswerButton);

      questionsContainer.appendChild(questionSection);
    });

    // Show selected question
    function showQuestion(index) {
      document.querySelectorAll(".question-section").forEach(section => {
        section.classList.remove("active");
      });
      document.querySelector(`#question-${index}`).classList.add("active");
    }

    // Function to mark selected question number with red color
    function selectQuestionNumber(button, index) {
      const questionButtons = document.querySelectorAll(".question-numbers button");
      if (button.classList.contains("selected")) {
        // If already selected, do nothing
        return;
      }
      button.classList.add("selected"); // Add red color to selected question number
    }

    // Function to mark selected questions with red after checking answers
    function markSelectedQuestionsRed() {
      document.querySelectorAll(".question-numbers button").forEach((btn, index) => {
        const questionSection = document.querySelector(`#question-${index}`);
        const choices = questionSection.querySelectorAll(".choice");
        let isSelected = false;
        
        choices.forEach(choice => {
          if (choice.classList.contains("selected")) {
            isSelected = true;
          }
        });

        if (isSelected) {
          btn.classList.add("selected"); // Mark only selected question numbers with red
        }
      });
    }
  </script>
</body>
</html>
